<html>

<head>
  <title>Express HTML</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
</head>

<body>
  <div style="margin:100px;">
    <nav class="navbar navbar-inverse navbar-static-top">
      <div class="container">
        <a class="navbar-brand" href="/">HVAC Testing Platform</a>
        <ul class="nav navbar-nav">
          <li class="active">
            <a href="/">Home</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="jumbotron" style="padding:40px;">
      <h2>Testing Platform</h2>
      <button onclick="sendRequestRasp('4001')">Connect rasp A</button>
      <button onclick="sendRequestRasp('4002')">Connect rasp B</button>


    </div>
  </div>
</body>
<script>
  function sendRequestRasp(param) {

    let rasp = "http://localhost:" + param;

    console.log("Request from browser to the main server");
    $.ajax(
      {
        url: "http://localhost:3000/webapi",
        dataType : 'text',
        data: {
          "connect": rasp
        },
        type: "POST", // if you want to send data via the "data" property change this to "POST". This can be omitted otherwise
        success: function (responseData) {
          var output = responseData
          console.log(output);
        },
        error: console.error
      }
    );
  }
</script>

</html>